(this.webpackJsonpreco=this.webpackJsonpreco||[]).push([[0],{18:function(e,t,n){},23:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(32),s=n.n(o),r=(n(23),n(35)),i=n(2),l=n(3),u=n(5),d=n(4),h=(n(41),n(33)),p=n(36),j=(n(42),n(8)),b=n.n(j),g=n(0);function m(e){return e.trigger?Object(g.jsx)("div",{className:"popup",children:Object(g.jsxs)("div",{className:"popup-inner",children:[Object(g.jsx)("button",{className:"close",onClick:function(){return e.setTrigger(!1)},children:"Close"}),Object(g.jsx)("input",{id:"input-title",className:"upload-form",type:"text",placeholder:"Title"}),Object(g.jsx)("input",{id:"input-description",className:"upload-form",type:"text",placeholder:"Description"}),Object(g.jsxs)("select",{className:"upload-category",name:"Category",id:"input-category",children:[Object(g.jsx)("option",{value:"",hidden:!0,children:"Please Choose a Category"}),Object(g.jsx)("option",{value:"Food",children:"Food"}),Object(g.jsx)("option",{value:"Drink",children:"Drink"}),Object(g.jsx)("option",{value:"Movie",children:"Movie"}),Object(g.jsx)("option",{value:"Music",children:"Music"}),Object(g.jsx)("option",{value:"Makeup",children:"Makeup"}),Object(g.jsx)("option",{value:"Shoe",children:"Shoe"}),Object(g.jsx)("option",{value:"Other",children:"Other"})]}),Object(g.jsx)("input",{id:"input-image",className:"upload-image",type:"file"}),Object(g.jsx)("button",{type:"button",className:"upload-submit",onClick:function(){return e.handleSubmit()},children:"Submit"})]})}):""}var O=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(g.jsxs)("div",{className:"button-container",children:[Object(g.jsx)("button",{className:"button",type:"button",onClick:function(){return c(!0)},children:"Upload"}),Object(g.jsx)(m,{trigger:n,setTrigger:c,handleSubmit:function(){console.log(document.getElementById("input-title").value),console.log(document.getElementById("input-description").value),console.log(document.getElementById("input-category").value),console.log(document.getElementById("input-image").files[0]);var e=localStorage.getItem("userInfo");if(null!==e){e=JSON.parse(e);var t=new FormData;t.append("author",e.username),t.append("title",document.getElementById("input-title").value),t.append("description",document.getElementById("input-description").value),t.append("category",document.getElementById("input-category").value),t.append("image",document.getElementById("input-image").files[0]);var n,a=Object(h.a)(t.entries());try{for(a.s();!(n=a.n()).done;){var o=n.value;console.log(o[0]+" - "+o[1])}}catch(s){a.e(s)}finally{a.f()}b()({method:"post",url:"http://localhost:5000/posts",data:t,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log("success")})).catch((function(e){console.log(e)})),c(!1)}else alert("You have to log in to upload a post!")}})]})},v=(n(62),c.a.Component,n.p+"static/media/sample.3bb1b856.jpg"),f=(n(63),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={like:0,category:null},a}return Object(l.a)(n,[{key:"handleLike",value:function(){var e=this.state.like;this.setState({like:e+1})}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{className:"post",children:[Object(g.jsxs)("div",{className:"post-content",children:[Object(g.jsx)("img",{src:this.props.img,alt:"testing"}),Object(g.jsx)("h3",{children:this.props.title}),Object(g.jsx)("p",{children:this.props.description}),Object(g.jsx)("p",{className:"author",children:this.props.author})]}),Object(g.jsxs)("span",{className:"category",children:["#",this.props.category]}),Object(g.jsxs)("div",{className:"like-container",children:[Object(g.jsx)("button",{className:"like-button",onClick:function(t){return e.props.handleLike(t)},children:"Like!"}),Object(g.jsx)("span",{children:this.props.like})]})]})}}]),n}(c.a.Component)),x=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"renderPosts",value:function(e){var t=this,n=e.map((function(e,n){return Object(g.jsx)(f,{img:void 0===e.imageId?v:"http://localhost:5000/posts/upload/".concat(e.imageId),title:e.title,author:e.author,description:e.description,date:e.date,like:e.like,category:e.category,handleLike:function(){return t.props.handleLike(n)}},e.id)}));return Object(g.jsx)("ul",{children:n})}},{key:"render",value:function(){return Object(g.jsx)("div",{className:"post-list",children:this.renderPosts(this.props.postArr)})}}]),n}(c.a.Component),y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={testing:[]},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{children:Object(g.jsxs)("form",{className:"search-form",children:[Object(g.jsx)("input",{id:"search-input",type:"search",placeholder:"Type here to search for a topic"}),Object(g.jsx)("button",{className:"button",type:"button",onClick:this.props.handleSearch,children:"Search"})]})})}}]),n}(c.a.Component),k=(n(64),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={testing:[]},a}return Object(l.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"navbar",children:[Object(g.jsx)(O,{}),Object(g.jsxs)("select",{className:"choose-category",name:"Category",id:"input-category",onChange:this.props.handleCategory,children:[Object(g.jsx)("option",{value:"",hidden:!0,children:"Category"}),Object(g.jsx)("option",{value:"Food",children:"Food"}),Object(g.jsx)("option",{value:"Drink",children:"Drink"}),Object(g.jsx)("option",{value:"Movie",children:"Movie"}),Object(g.jsx)("option",{value:"Music",children:"Music"}),Object(g.jsx)("option",{value:"Makeup",children:"Makeup"}),Object(g.jsx)("option",{value:"Shoe",children:"Shoe"}),Object(g.jsx)("option",{value:"Other",children:"Other"})]})]})}}]),n}(c.a.Component)),N=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleFetch=function(){b.a.get("http://localhost:5000/posts").then((function(e){return a.handleResponse(e)}))},a.handleResponse=function(e){var t;console.log(e.data.length),t=void 0===e.data.length?[]:e.data.map((function(e){return{id:e._id,author:e.author,title:e.title,description:e.description,date:e.date,like:e.like,category:e.category,imageId:e.imageId}})),a.setState({posts:t,postArr:t})},a.handleSearch=function(){b.a.post("http://localhost:5000/posts/author",{author:"eric"}).then((function(e){return a.handleResponse(e)}))},a.handleCategory=function(){console.log(document.getElementById("input-category").value);var e=document.getElementById("input-category").value;b.a.post("http://localhost:5000/posts/".concat(e)).then((function(e){return a.handleResponse(e)})).catch((function(e){console.log(e)}))},a.state={posts:[],foods:[],drinks:[],showFoods:!0,showDrinks:!0,postArr:[],searchResult:[]},a.handleFetch(),a}return Object(l.a)(n,[{key:"handleLike",value:function(e){var t=Object(r.a)(this.state.posts),n=t[e];n.like=n.like+1,b.a.patch("http://localhost:5000/posts/".concat(n.id),{like:n.like}).catch((function(e){return console.log(e.response.data)})),this.setState({posts:t})}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)(y,{handleSearch:function(){return e.handleSearch()}}),Object(g.jsx)(k,{handleCategory:function(){return e.handleCategory()}}),Object(g.jsx)(x,{handleFetch:function(){return e.handleFetch()},handleLike:function(t){return e.handleLike(t)},postArr:this.state.postArr})]})}}]),n}(c.a.Component),I=n(15),S=n(6);n(65),n(66);var C=function(){var e=localStorage.getItem("userInfo");e=JSON.parse(e),console.log(e);var t="you have not logged in yet!",n="";return 0!=localStorage.length&&(t=e.username,n=e.signature),console.log(t),Object(g.jsx)("div",{className:"profile",children:Object(g.jsxs)("div",{className:"text",children:[Object(g.jsx)("h1",{className:"username",children:t}),Object(g.jsx)("q",{className:"sig",children:n}),Object(g.jsxs)("div",{className:"controlPanel",children:[Object(g.jsx)("a",{className:"button2",href:"/myposts",children:"My Posts"}),Object(g.jsx)("a",{className:"button2",href:"/changesig",children:"Change Signature"}),Object(g.jsx)("a",{className:"button2",href:"/changepwd",children:"Change Password"}),Object(g.jsx)("button",{className:"button2",onClick:function(){localStorage.clear()},children:"Log Out"})]})]})})},w=(n(18),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"handleLogin",value:function(){var e={username:document.getElementById("username").value,password:document.getElementById("password").value};b.a.post("http://localhost:5000/users/login",e).then((function(e){var t=e.data.data;localStorage.setItem("userInfo",JSON.stringify(t))}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("form",{className:"login",children:[Object(g.jsx)("input",{className:"login_input",id:"username",placeholder:"Enter username"}),Object(g.jsx)("input",{type:"password",className:"login_input",id:"password",placeholder:"Enter password"}),Object(g.jsx)("button",{className:"Transparant_button",type:"button",onClick:function(){return e.handleLogin()},children:"Sign In"}),Object(g.jsx)("a",{href:"/register",className:"Transparant_button",children:"No Account? Go to Register"})]})}}]),n}(c.a.Component)),E=(n(67),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"handleRegistration",value:function(){var e={username:document.getElementById("reg_username").value,password:document.getElementById("reg_password").value,signature:document.getElementById("reg_signature").value};b.a.post("http://localhost:5000/users/register",e).then((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("form",{className:"register",children:[Object(g.jsx)("input",{className:"login_input",id:"reg_username",placeholder:"Enter username"}),Object(g.jsx)("input",{className:"login_input",id:"reg_password",placeholder:"Enter password"}),Object(g.jsx)("input",{className:"login_input",id:"reg_signature",placeholder:"Enter signature"}),Object(g.jsx)("button",{className:"register_button",onClick:function(){return e.handleRegistration()},children:"Register"})]})}}]),n}(c.a.Component)),_=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"changeSig",value:function(){var e=localStorage.getItem("userInfo");e=JSON.parse(e);var t=document.getElementById("new_sig").value,n={username:e.username,password:e.password,signature:t};b.a.patch("http://localhost:5000/users/editSignature/:userID",n).then((function(e){})),localStorage.setItem("userInfo",JSON.stringify(n))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{className:"change",id:"new_sig",placeholder:"Enter New Signature"}),Object(g.jsx)("button",{className:"button",onClick:function(){return e.changeSig()},children:"submit"})]})}}]),n}(c.a.Component),B=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){return Object(i.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"change_pwd",value:function(){var e=localStorage.getItem("userInfo");e=JSON.parse(e);var t=document.getElementById("new_pwd").value,n={username:e.username,password:t,signature:e.signature};b.a.patch("http://localhost:5000/users/changePassword/:userID",n).then((function(e){}))}},{key:"render",value:function(){var e=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)("input",{type:"password",className:"change",id:"new_pwd",placeholder:"Enter New Password"}),Object(g.jsx)("button",{className:"button",onClick:function(){return e.change_pwd()},children:"submit"})]})}}]),n}(c.a.Component),L=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).handleFetch=function(){var e=localStorage.getItem("userInfo"),t={author:(e=JSON.parse(e)).username};console.log(t),b.a.post("http://localhost:5000/posts/search/author",t).then((function(e){return a.handleResponse(e)}))},a.handleResponse=function(e){var t;console.log(e.data.length),t=void 0===e.data.length?[]:e.data.map((function(e){return{id:e._id,author:e.author,title:e.title,description:e.description,date:e.date,like:e.like,category:e.category,imageId:e.imageId}})),a.setState({posts:t,postArr:t})},a.state={posts:[],postArr:[]},a.handleFetch(),a}return Object(l.a)(n,[{key:"handleLike",value:function(e){}},{key:"render",value:function(){var e=this;return Object(g.jsx)("div",{children:Object(g.jsx)(x,{handleFetch:function(){return e.handleFetch()},handleLike:function(t){return e.handleLike(t)},postArr:this.state.postArr})})}}]),n}(c.a.Component);var M=function(){return Object(g.jsx)(I.a,{children:Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)("div",{className:"top-bar"}),Object(g.jsxs)("nav",{children:[Object(g.jsx)(I.b,{to:"/reco",className:"logo",children:Object(g.jsx)("h1",{children:"RECO"})}),Object(g.jsx)(I.b,{to:"/user",className:"account-link",children:"My Account"}),Object(g.jsx)(I.b,{to:"/login",className:"login-link",children:"Login"}),Object(g.jsx)(I.b,{to:"/register",className:"register-link",children:"Register"})]}),Object(g.jsxs)(S.c,{children:[Object(g.jsx)(S.a,{path:"/reco",exact:!0,component:N}),Object(g.jsx)(S.a,{path:"/user",component:C}),Object(g.jsx)(S.a,{path:"/login",component:w}),Object(g.jsx)(S.a,{path:"/register",component:E}),Object(g.jsx)(S.a,{path:"/changesig",component:_}),Object(g.jsx)(S.a,{path:"/changepwd",component:B}),Object(g.jsx)(S.a,{path:"/myposts",component:L})]})]})})};s.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(M,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.bba3980f.chunk.js.map